--
-- Script was generated by Devart dbForge Studio 2020 for MySQL, Version 9.0.338.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 12/29/2023 11:19:44 PM
-- Server version: 8.0.33
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE meditrack;

--
-- Drop procedure `Proc_prescriptions_getPaging`
--
DROP PROCEDURE IF EXISTS Proc_prescriptions_getPaging;

--
-- Drop procedure `Proc_records_getPaging`
--
DROP PROCEDURE IF EXISTS Proc_records_getPaging;

--
-- Drop procedure `Proc_appointments_Insert`
--
DROP PROCEDURE IF EXISTS Proc_appointments_Insert;

--
-- Drop procedure `Proc_appointments_Update`
--
DROP PROCEDURE IF EXISTS Proc_appointments_Update;

--
-- Drop table `appointments`
--
DROP TABLE IF EXISTS appointments;

--
-- Drop procedure `Proc_family_members_Insert`
--
DROP PROCEDURE IF EXISTS Proc_family_members_Insert;

--
-- Drop procedure `Proc_family_members_Update`
--
DROP PROCEDURE IF EXISTS Proc_family_members_Update;

--
-- Drop table `family_members`
--
DROP TABLE IF EXISTS family_members;

--
-- Drop procedure `Proc_notifications_Insert`
--
DROP PROCEDURE IF EXISTS Proc_notifications_Insert;

--
-- Drop procedure `Proc_notifications_Update`
--
DROP PROCEDURE IF EXISTS Proc_notifications_Update;

--
-- Drop table `notifications`
--
DROP TABLE IF EXISTS notifications;

--
-- Drop procedure `Proc_medications_Insert`
--
DROP PROCEDURE IF EXISTS Proc_medications_Insert;

--
-- Drop procedure `Proc_medications_Update`
--
DROP PROCEDURE IF EXISTS Proc_medications_Update;

--
-- Drop table `medications`
--
DROP TABLE IF EXISTS medications;

--
-- Drop procedure `Proc_prescriptions_Insert`
--
DROP PROCEDURE IF EXISTS Proc_prescriptions_Insert;

--
-- Drop procedure `Proc_prescriptions_Update`
--
DROP PROCEDURE IF EXISTS Proc_prescriptions_Update;

--
-- Drop table `prescriptions`
--
DROP TABLE IF EXISTS prescriptions;

--
-- Drop procedure `Proc_medicaltests_Insert`
--
DROP PROCEDURE IF EXISTS Proc_medicaltests_Insert;

--
-- Drop procedure `Proc_medicaltests_Update`
--
DROP PROCEDURE IF EXISTS Proc_medicaltests_Update;

--
-- Drop table `medicaltests`
--
DROP TABLE IF EXISTS medicaltests;

--
-- Drop procedure `Proc_treatments_Insert`
--
DROP PROCEDURE IF EXISTS Proc_treatments_Insert;

--
-- Drop procedure `Proc_treatments_Update`
--
DROP PROCEDURE IF EXISTS Proc_treatments_Update;

--
-- Drop table `treatments`
--
DROP TABLE IF EXISTS treatments;

--
-- Drop procedure `Proc_records_Insert`
--
DROP PROCEDURE IF EXISTS Proc_records_Insert;

--
-- Drop procedure `Proc_records_Update`
--
DROP PROCEDURE IF EXISTS Proc_records_Update;

--
-- Drop table `records`
--
DROP TABLE IF EXISTS records;

--
-- Drop procedure `Proc_user_details_Insert`
--
DROP PROCEDURE IF EXISTS Proc_user_details_Insert;

--
-- Drop procedure `Proc_user_details_Update`
--
DROP PROCEDURE IF EXISTS Proc_user_details_Update;

--
-- Drop table `user_details`
--
DROP TABLE IF EXISTS user_details;

--
-- Drop procedure `Proc_users_Insert`
--
DROP PROCEDURE IF EXISTS Proc_users_Insert;

--
-- Drop procedure `Proc_users_Update`
--
DROP PROCEDURE IF EXISTS Proc_users_Update;

--
-- Drop table `users`
--
DROP TABLE IF EXISTS users;

--
-- Set default database
--
USE meditrack;

--
-- Create table `users`
--
CREATE TABLE users (
  UserID char(36) NOT NULL DEFAULT '',
  PhoneNumber varchar(50) DEFAULT NULL,
  UserName varchar(20) DEFAULT NULL,
  Password varchar(20) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PRIMARY KEY (UserID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'bảng người dùng';

DELIMITER $$

--
-- Create procedure `Proc_users_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_users_Update (IN p_UserID char(36),

IN p_UserName varchar(20),
IN p_Password varchar(20),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  UPDATE users
  SET UserName = p_UserName,
      Password = p_Password,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE UserID = p_UserID;


END
$$

--
-- Create procedure `Proc_users_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_users_Insert (IN p_UserID char(36),

IN p_UserName varchar(20),
IN p_Password varchar(20),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  INSERT INTO users (UserID, UserName, Password, CreatedDate, CreatedBy, ModifiedDate,
  ModifiedBy)
    VALUES (p_UserID, p_UserName, p_Password, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);


END
$$

DELIMITER ;

--
-- Create table `user_details`
--
CREATE TABLE user_details (
  UserDetailID char(36) NOT NULL DEFAULT '',
  UserID char(36) DEFAULT NULL,
  FullName varchar(50) DEFAULT NULL,
  DateOfBirth datetime DEFAULT NULL,
  Gender int DEFAULT NULL,
  Address varchar(255) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PhoneNumber varchar(255) DEFAULT NULL,
  PRIMARY KEY (UserDetailID)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'bảng chi tiết người dùng';

--
-- Create foreign key
--
ALTER TABLE user_details
ADD CONSTRAINT FK_userdetail_UserID FOREIGN KEY (UserID)
REFERENCES users (UserID) ON DELETE CASCADE;

DELIMITER $$

--
-- Create procedure `Proc_user_details_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_user_details_Update (IN p_UserDetailID char(36),
IN p_UserID char(36),
IN p_FullName varchar(50),
IN p_DateOfBirth datetime,
IN p_Gender int,
IN p_Address varchar(255),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50), IN p_PhoneNumber varchar(50))
BEGIN

  UPDATE user_details
  SET UserID = p_UserID,
      FullName = p_FullName,
      DateOfBirth = p_DateOfBirth,
      Gender = p_Gender,
      Address = p_Address,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy,
      PhoneNumber = p_PhoneNumber
  WHERE UserDetailID = p_UserDetailID;


END
$$

--
-- Create procedure `Proc_user_details_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_user_details_Insert (IN p_UserDetailID char(36),
IN p_UserID char(36),
IN p_FullName varchar(50),
IN p_DateOfBirth datetime,
IN p_Gender int,
IN p_Address varchar(255),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50), IN p_PhoneNumber varchar(50))
BEGIN


  INSERT INTO user_details (UserDetailID, UserID, FullName, DateOfBirth, Gender, Address, CreatedDate,
  CreatedBy, ModifiedDate, ModifiedBy, PhoneNumber)
    VALUES (p_UserDetailID, p_UserID, p_FullName, p_DateOfBirth, p_Gender, p_Address, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy, p_PhoneNumber);


END
$$

DELIMITER ;

--
-- Create table `records`
--
CREATE TABLE records (
  RecordID char(36) NOT NULL DEFAULT '',
  UserID char(36) DEFAULT NULL,
  RecordDate datetime DEFAULT NULL,
  RecordTitle varchar(100) DEFAULT NULL,
  MedicalExaminationAddress varchar(255) DEFAULT NULL,
  DoctorName varchar(50) DEFAULT NULL,
  FullName varchar(50) DEFAULT NULL,
  DateOfBirth datetime DEFAULT NULL,
  Gender int DEFAULT NULL,
  Address varchar(255) DEFAULT NULL,
  PatientName varchar(50) DEFAULT NULL,
  PatientID char(36) DEFAULT NULL,
  PhoneNumber varchar(20) DEFAULT NULL,
  DoctorPhoneNumber varchar(20) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  FileName varchar(10000) DEFAULT NULL,
  PRIMARY KEY (RecordID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'bảng hồ sơ';

--
-- Create foreign key
--
ALTER TABLE records
ADD CONSTRAINT FK_Records_UserID FOREIGN KEY (UserID)
REFERENCES users (UserID);

DELIMITER $$

--
-- Create procedure `Proc_records_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_records_Update (IN p_RecordID char(36),
IN p_UserID char(36),
IN p_RecordDate datetime,
IN p_RecordTitle varchar(100),
IN p_MedicalExaminationAddress varchar(255),
IN p_DoctorName varchar(50),
IN p_FullName varchar(50),
IN p_DateOfBirth datetime,
IN p_Gender int,
IN p_Address varchar(255),
IN p_PatientName varchar(50),
IN p_PatientID char(36),
IN p_PhoneNumber varchar(20),
IN p_DoctorPhoneNumber varchar(20),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50),
IN P_FileName varchar(10000))
BEGIN

  UPDATE records
  SET UserID = p_UserID,
      RecordDate = p_RecordDate,
      RecordTitle = p_RecordTitle,
      MedicalExaminationAddress = p_MedicalExaminationAddress,
      DoctorName = p_DoctorName,
      FullName = p_FullName,
      DateOfBirth = p_DateOfBirth,
      Gender = p_Gender,
      Address = p_Address,
      PatientName = p_PatientName,
      PatientID = p_PatientID,
      PhoneNumber = p_PhoneNumber,
      DoctorPhoneNumber = p_DoctorPhoneNumber,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy,
      FileName = P_FileName
  WHERE RecordID = p_RecordID;


END
$$

--
-- Create procedure `Proc_records_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_records_Insert (IN p_RecordID char(36), IN p_UserID char(36), IN p_RecordDate datetime, IN p_RecordTitle varchar(100), IN p_MedicalExaminationAddress varchar(255), IN p_DoctorName varchar(50), IN p_FullName varchar(50), IN p_DateOfBirth datetime, IN p_Gender int, IN p_Address varchar(255), IN p_PhoneNumber varchar(20), IN p_DoctorPhoneNumber varchar(20), IN p_PatientName varchar(50), IN p_PatientID char(36), IN p_CreatedDate datetime, IN p_CreatedBy varchar(50), IN p_ModifiedDate datetime, IN p_ModifiedBy varchar(50), IN P_FileName varchar(10000))
BEGIN

  INSERT INTO records (RecordID, UserID, RecordDate, RecordTitle, MedicalExaminationAddress, DoctorName,
  FullName, DateOfBirth, Gender, Address, PhoneNumber, DoctorPhoneNumber, CreatedDate,
  CreatedBy, ModifiedDate, ModifiedBy, PatientName, PatientID, FileName)
    VALUES (p_RecordID, p_UserID, p_RecordDate, p_RecordTitle, p_MedicalExaminationAddress, p_DoctorName, p_FullName, p_DateOfBirth, p_Gender, p_Address, p_PhoneNumber, p_DoctorPhoneNumber, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy, p_PatientName, p_PatientID, P_FileName);

END
$$

DELIMITER ;

--
-- Create table `treatments`
--
CREATE TABLE treatments (
  TreatmentID char(36) NOT NULL DEFAULT '',
  RecordID char(36) DEFAULT NULL,
  Diagnosis varchar(255) DEFAULT NULL,
  TreatmentDate datetime DEFAULT NULL,
  TreatmentDescription varchar(255) DEFAULT NULL,
  MedicalHistory varchar(500) DEFAULT NULL,
  PrescriptionName varchar(50) DEFAULT NULL,
  Notes varchar(500) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PRIMARY KEY (TreatmentID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'Bảng điều trị';

--
-- Create foreign key
--
ALTER TABLE treatments
ADD CONSTRAINT FK_Treatments_RecordID FOREIGN KEY (RecordID)
REFERENCES records (RecordID) ON DELETE SET NULL;

DELIMITER $$

--
-- Create procedure `Proc_treatments_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_treatments_Update (IN p_TreatmentID char(36),
IN p_RecordID char(36),
IN p_Diagnosis varchar(255),
IN p_TreatmentDate datetime,
IN p_TreatmentDescription varchar(255),
IN p_MedicalHistory varchar(500),
IN p_PrescriptionName varchar(50),
IN p_Notes varchar(500),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  UPDATE treatments
  SET RecordID = p_RecordID,
      Diagnosis = p_Diagnosis,
      TreatmentDate = p_TreatmentDate,
      TreatmentDescription = p_TreatmentDescription,
      MedicalHistory = p_MedicalHistory,
      PrescriptionName = p_PrescriptionName,
      Notes = p_Notes,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE TreatmentID = p_TreatmentID;

END
$$

--
-- Create procedure `Proc_treatments_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_treatments_Insert (IN p_TreatmentID char(36),
IN p_RecordID char(36),
IN p_Diagnosis varchar(255),
IN p_TreatmentDate datetime,
IN p_TreatmentDescription varchar(255),
IN p_MedicalHistory varchar(500),
IN p_PrescriptionName varchar(50),
IN p_Notes varchar(500),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN

  INSERT INTO treatments (TreatmentID, RecordID, Diagnosis, TreatmentDate, TreatmentDescription, MedicalHistory,
  PrescriptionName, Notes, CreatedDate, CreatedBy, ModifiedDate, ModifiedBy)
    VALUES (p_TreatmentID, p_RecordID, p_Diagnosis, p_TreatmentDate, p_TreatmentDescription, p_MedicalHistory, p_PrescriptionName, p_Notes, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);


END
$$

DELIMITER ;

--
-- Create table `medicaltests`
--
CREATE TABLE medicaltests (
  TestID char(36) NOT NULL DEFAULT '',
  RecordID char(36) DEFAULT NULL,
  TestName varchar(100) DEFAULT NULL,
  Unit varchar(50) DEFAULT NULL,
  Normal varchar(50) DEFAULT NULL,
  TestDate datetime DEFAULT NULL,
  SamplingTime datetime DEFAULT NULL,
  SampleReceiptTime datetime DEFAULT NULL,
  TypeTest varchar(20) DEFAULT NULL,
  TestBy varchar(50) DEFAULT NULL,
  TestResult varchar(255) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  FileName varchar(255) DEFAULT NULL,
  PRIMARY KEY (TestID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'Bảng xét nghiệm';

--
-- Create foreign key
--
ALTER TABLE medicaltests
ADD CONSTRAINT FK_MedicalTests_RecordID FOREIGN KEY (RecordID)
REFERENCES records (RecordID) ON DELETE SET NULL;

DELIMITER $$

--
-- Create procedure `Proc_medicaltests_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_medicaltests_Update (IN p_TestID char(36),
IN p_RecordID char(36),
IN p_TestName varchar(100),
IN p_Unit varchar(50),
IN p_Normal varchar(50),
IN p_TestDate datetime,
IN p_SamplingTime datetime,
IN p_SampleReceiptTime datetime,
IN p_TypeTest varchar(20),
IN p_TestBy varchar(50),
IN p_TestResult varchar(255),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  UPDATE medicaltests
  SET RecordID = p_RecordID,
      TestName = p_TestName,
      Unit = p_Unit,
      Normal = p_Normal,
      TestDate = p_TestDate,
      SamplingTime = p_SamplingTime,
      SampleReceiptTime = p_SampleReceiptTime,
      TypeTest = p_TypeTest,
      TestBy = p_TestBy,
      TestResult = p_TestResult,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE TestID = p_TestID;


END
$$

--
-- Create procedure `Proc_medicaltests_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_medicaltests_Insert (IN p_TestID char(36),
IN p_RecordID char(36),
IN p_TestName varchar(100),
IN p_Unit varchar(50),
IN p_Normal varchar(50),
IN p_TestDate datetime,
IN p_SamplingTime datetime,
IN p_SampleReceiptTime datetime,
IN p_TypeTest varchar(20),
IN p_TestBy varchar(50),
IN p_TestResult varchar(255),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  INSERT INTO medicaltests (TestID, RecordID, TestName, Unit, Normal, TestDate, SamplingTime, SampleReceiptTime,
  TypeTest, TestBy, TestResult, CreatedDate, CreatedBy, ModifiedDate, ModifiedBy)
    VALUES (p_TestID, p_RecordID, p_TestName, p_Unit, p_Normal, p_TestDate, p_SamplingTime, p_SampleReceiptTime, p_TypeTest, p_TestBy, p_TestResult, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);

END
$$

DELIMITER ;

--
-- Create table `prescriptions`
--
CREATE TABLE prescriptions (
  PrescriptionID char(36) NOT NULL DEFAULT '',
  UserID char(36) DEFAULT NULL,
  PrescriptionName varchar(200) DEFAULT NULL,
  Notes varchar(500) DEFAULT NULL,
  PrescriptionStatus int DEFAULT NULL,
  PrescriptionDate datetime DEFAULT NULL,
  PatientName varchar(50) DEFAULT NULL,
  PatientID char(36) DEFAULT NULL,
  CreatedByDoctor varchar(50) DEFAULT NULL,
  Diagnose varchar(500) DEFAULT NULL,
  CreatedByAddress varchar(255) DEFAULT NULL,
  FromDate datetime DEFAULT NULL,
  ToDate datetime DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(255) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PRIMARY KEY (PrescriptionID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 1365,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'bảng đơn thuốc';

--
-- Create foreign key
--
ALTER TABLE prescriptions
ADD CONSTRAINT FK_Prescription_UserID FOREIGN KEY (UserID)
REFERENCES users (UserID);

DELIMITER $$

--
-- Create procedure `Proc_prescriptions_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_prescriptions_Update (IN p_PrescriptionID char(36),
IN p_UserID char(36),
IN p_PrescriptionName varchar(200),
IN p_Notes varchar(500),
IN p_PrescriptionStatus int,
IN p_PrescriptionDate datetime,
IN p_PatientName varchar(50),
IN p_PatientID char(36),
IN p_CreatedByDoctor varchar(50),
IN p_Diagnose varchar(500),
IN p_CreatedByAddress varchar(255),
IN p_FromDate datetime,
IN p_ToDate datetime,
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(255),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  UPDATE prescriptions
  SET UserID = p_UserID,
      PrescriptionName = p_PrescriptionName,
      Notes = p_Notes,
      PrescriptionStatus = p_PrescriptionStatus,
      PrescriptionDate = p_PrescriptionDate,
      PatientName = p_PatientName,
      PatientID = p_PatientID,
      CreatedByDoctor = p_CreatedByDoctor,
      Diagnose = p_Diagnose,
      CreatedByAddress = p_CreatedByAddress,
      FromDate = p_FromDate,
      ToDate = p_ToDate,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE PrescriptionID = p_PrescriptionID;


END
$$

--
-- Create procedure `Proc_prescriptions_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_prescriptions_Insert (IN p_PrescriptionID char(36),
IN p_UserID char(36),
IN p_PrescriptionName varchar(200),
IN p_Notes varchar(500),
IN p_PrescriptionStatus int,
IN p_PrescriptionDate datetime,
IN p_PatientName varchar(50),
IN p_PatientID char(36),
IN p_CreatedByDoctor varchar(50),
IN p_Diagnose varchar(500),
IN p_CreatedByAddress varchar(255),
IN p_FromDate datetime,
IN p_ToDate datetime,
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(255),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN

  INSERT INTO prescriptions (PrescriptionID, UserID, PrescriptionName, Notes, PrescriptionStatus,
  PrescriptionDate, PatientName, PatientID, CreatedByDoctor, Diagnose,
  CreatedByAddress, FromDate, ToDate, CreatedDate, CreatedBy, ModifiedDate,
  ModifiedBy)
    VALUES (p_PrescriptionID, p_UserID, p_PrescriptionName, p_Notes, p_PrescriptionStatus, p_PrescriptionDate, p_PatientName, p_PatientID, p_CreatedByDoctor, p_Diagnose, p_CreatedByAddress, p_FromDate, p_ToDate, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);

END
$$

DELIMITER ;

--
-- Create table `medications`
--
CREATE TABLE medications (
  MedicationID char(36) NOT NULL DEFAULT '',
  PrescriptionID char(36) DEFAULT NULL,
  MedicationName varchar(255) DEFAULT NULL,
  QuantityForMorning int DEFAULT NULL,
  QuantityForAfternoon int DEFAULT NULL,
  Unit varchar(50) DEFAULT NULL,
  Notes varchar(500) DEFAULT NULL,
  RouteOfAdministration varchar(255) DEFAULT NULL,
  Warnings varchar(500) DEFAULT NULL,
  ExpiryDate datetime DEFAULT NULL,
  SideEffects varchar(500) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PRIMARY KEY (MedicationID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 1638,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'bảng thuốc';

--
-- Create foreign key
--
ALTER TABLE medications
ADD CONSTRAINT FK_Medication_PrescriptionID FOREIGN KEY (PrescriptionID)
REFERENCES prescriptions (PrescriptionID) ON DELETE SET NULL;

DELIMITER $$

--
-- Create procedure `Proc_medications_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_medications_Update (IN p_MedicationID char(36),
IN p_PrescriptionID char(36),
IN p_MedicationName varchar(255),
IN p_QuantityForMorning int,
IN p_QuantityForAfternoon int,
IN p_Unit varchar(50),
IN p_Notes varchar(500),
IN p_RouteOfAdministration varchar(255),
IN p_Warnings varchar(500),
IN p_ExpiryDate datetime,
IN p_SideEffects varchar(500),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN

  UPDATE medications
  SET PrescriptionID = p_PrescriptionID,
      MedicationName = p_MedicationName,
      QuantityForMorning = p_QuantityForMorning,
      QuantityForAfternoon = p_QuantityForAfternoon,
      Unit = p_Unit,
      Notes = p_Notes,
      RouteOfAdministration = p_RouteOfAdministration,
      Warnings = p_Warnings,
      ExpiryDate = p_ExpiryDate,
      SideEffects = p_SideEffects,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE MedicationID = p_MedicationID;


END
$$

--
-- Create procedure `Proc_medications_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_medications_Insert (IN p_MedicationID char(36),
IN p_PrescriptionID char(36),
IN p_MedicationName varchar(255),
IN p_QuantityForMorning int,
IN p_QuantityForAfternoon int,
IN p_Unit varchar(50),
IN p_Notes varchar(500),
IN p_RouteOfAdministration varchar(255),
IN p_Warnings varchar(500),
IN p_ExpiryDate datetime,
IN p_SideEffects varchar(500),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  INSERT INTO medications (MedicationID, PrescriptionID, MedicationName, QuantityForMorning, QuantityForAfternoon,
  Unit, Notes, RouteOfAdministration, Warnings, ExpiryDate, SideEffects,
  CreatedDate, CreatedBy, ModifiedDate, ModifiedBy)
    VALUES (p_MedicationID, p_PrescriptionID, p_MedicationName, p_QuantityForMorning, p_QuantityForAfternoon, p_Unit, p_Notes, p_RouteOfAdministration, p_Warnings, CURRENT_TIMESTAMP(), p_SideEffects, p_CreatedDate, p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);

END
$$

DELIMITER ;

--
-- Create table `notifications`
--
CREATE TABLE notifications (
  NoticeID char(36) NOT NULL DEFAULT '',
  UserID char(36) DEFAULT NULL,
  NoticeName varchar(500) DEFAULT NULL,
  NoticeDate datetime DEFAULT NULL,
  NoticeStatus int DEFAULT NULL,
  NoticeType varchar(50) DEFAULT NULL,
  NoticeOfUser varchar(50) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  TypeID char(36) DEFAULT NULL,
  ToDate datetime DEFAULT NULL,
  PRIMARY KEY (NoticeID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 2730,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'Thông báo';

--
-- Create foreign key
--
ALTER TABLE notifications
ADD CONSTRAINT FK_Notice_UserID FOREIGN KEY (UserID)
REFERENCES users (UserID) ON DELETE CASCADE;

DELIMITER $$

--
-- Create procedure `Proc_notifications_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_notifications_Update (IN p_NoticeID char(36),
IN p_UserID char(36),
IN p_NoticeName varchar(500),
IN p_NoticeDate datetime,
IN p_NoticeStatus int,
IN p_NoticeType varchar(50),
IN p_NoticeOfUser varchar(50),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50), IN P_TypeID char(36), IN P_ToDate datetime)
BEGIN

  UPDATE notifications
  SET UserID = p_UserID,
      NoticeName = p_NoticeName,
      NoticeDate = p_NoticeDate,
      NoticeStatus = p_NoticeStatus,
      NoticeType = p_NoticeType,
      NoticeOfUser = p_NoticeOfUser,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy,
      TypeID = P_TypeID,
      ToDate = P_ToDate
  WHERE NoticeID = p_NoticeID;


END
$$

--
-- Create procedure `Proc_notifications_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_notifications_Insert (IN p_NoticeID char(36),
IN p_UserID char(36),
IN p_NoticeName varchar(500),
IN p_NoticeDate datetime,
IN p_NoticeStatus int,
IN p_NoticeType varchar(50),
IN p_NoticeOfUser varchar(50),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50), IN P_TypeID char(36), IN P_ToDate datetime)
BEGIN


  INSERT INTO notifications (NoticeID, UserID, NoticeName, NoticeDate, NoticeStatus, NoticeType, NoticeOfUser,
  CreatedDate, CreatedBy, ModifiedDate, ModifiedBy, TypeID, ToDate)
    VALUES (p_NoticeID, p_UserID, p_NoticeName, p_NoticeDate, p_NoticeStatus, p_NoticeType, p_NoticeOfUser, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy, P_TypeID, P_ToDate);

END
$$

DELIMITER ;

--
-- Create table `family_members`
--
CREATE TABLE family_members (
  PatientID char(36) NOT NULL DEFAULT '',
  UserID char(36) DEFAULT NULL,
  PatientName varchar(50) DEFAULT NULL,
  DateOfBirth datetime DEFAULT NULL,
  Relationship varchar(50) DEFAULT NULL,
  PhoneNumber varchar(20) DEFAULT NULL,
  Contact varchar(255) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PRIMARY KEY (PatientID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'Bảng gia đình';

--
-- Create foreign key
--
ALTER TABLE family_members
ADD CONSTRAINT FK_Family_UserID FOREIGN KEY (UserID)
REFERENCES users (UserID);

DELIMITER $$

--
-- Create procedure `Proc_family_members_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_family_members_Update (IN p_PatientID char(36),
IN p_UserID char(36),
IN p_PatientName varchar(50),
IN p_DateOfBirth datetime,
IN p_Relationship varchar(50),
IN p_PhoneNumber varchar(20),
IN p_Contact varchar(255),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  UPDATE family_members
  SET UserID = p_UserID,
      PatientName = p_PatientName,
      DateOfBirth = p_DateOfBirth,
      Relationship = p_Relationship,
      PhoneNumber = p_PhoneNumber,
      Contact = p_Contact,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE PatientID = p_PatientID;


END
$$

--
-- Create procedure `Proc_family_members_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_family_members_Insert (IN p_PatientID char(36),
IN p_UserID char(36),
IN p_PatientName varchar(50),
IN p_DateOfBirth datetime,
IN p_Relationship varchar(50),
IN p_PhoneNumber varchar(20),
IN p_Contact varchar(255),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  INSERT INTO family_members (PatientID, UserID, PatientName, DateOfBirth, Relationship, PhoneNumber,
  Contact, CreatedDate, CreatedBy, ModifiedDate, ModifiedBy)
    VALUES (p_PatientID, p_UserID, p_PatientName, p_DateOfBirth, p_Relationship, p_PhoneNumber, p_Contact, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);


END
$$

DELIMITER ;

--
-- Create table `appointments`
--
CREATE TABLE appointments (
  AppointmentID char(36) NOT NULL DEFAULT '',
  UserID char(36) DEFAULT NULL,
  AppointmentName varchar(255) DEFAULT NULL,
  AppointmentDate datetime DEFAULT NULL,
  AppointmentStatus int DEFAULT NULL,
  PatientName varchar(50) DEFAULT NULL,
  PatientID char(36) DEFAULT NULL,
  DoctorName varchar(50) DEFAULT NULL,
  DoctorPhoneNumber varchar(20) DEFAULT NULL,
  Address varchar(255) DEFAULT NULL,
  Description varchar(500) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(50) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(50) DEFAULT NULL,
  PRIMARY KEY (AppointmentID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 1092,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_as_ci,
COMMENT = 'bảng cuộc hẹn';

--
-- Create foreign key
--
ALTER TABLE appointments
ADD CONSTRAINT FK_Appointments_UserID FOREIGN KEY (UserID)
REFERENCES users (UserID) ON DELETE CASCADE;

DELIMITER $$

--
-- Create procedure `Proc_appointments_Update`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_appointments_Update (IN p_AppointmentID char(36),
IN p_UserID char(36),
IN p_AppointmentName varchar(255),
IN p_AppointmentDate datetime,
IN p_AppointmentStatus int,
IN p_PatientName varchar(50),
IN p_PatientID char(36),
IN p_DoctorName varchar(50),
IN p_DoctorPhoneNumber varchar(20),
IN p_Address varchar(255),
IN p_Description varchar(500),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  UPDATE appointments
  SET UserID = p_UserID,
      AppointmentName = p_AppointmentName,
      AppointmentDate = p_AppointmentDate,
      AppointmentStatus = p_AppointmentStatus,
      PatientName = p_PatientName,
      PatientID = p_PatientID,
      DoctorName = p_DoctorName,
      DoctorPhoneNumber = p_DoctorPhoneNumber,
      Address = p_Address,
      Description = p_Description,
      ModifiedDate = CURRENT_TIMESTAMP(),
      ModifiedBy = p_ModifiedBy
  WHERE AppointmentID = p_AppointmentID;


END
$$

--
-- Create procedure `Proc_appointments_Insert`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_appointments_Insert (IN p_AppointmentID char(36),
IN p_UserID char(36),
IN p_AppointmentName varchar(255),
IN p_AppointmentDate datetime,
IN p_AppointmentStatus int,
IN p_PatientName varchar(50),
IN p_PatientID char(36),
IN p_DoctorName varchar(50),
IN p_DoctorPhoneNumber varchar(20),
IN p_Address varchar(255),
IN p_Description varchar(500),
IN p_CreatedDate datetime,
IN p_CreatedBy varchar(50),
IN p_ModifiedDate datetime,
IN p_ModifiedBy varchar(50))
BEGIN


  INSERT INTO appointments (AppointmentID, UserID, AppointmentName, AppointmentDate, AppointmentStatus,
  PatientName, PatientID, DoctorName, DoctorPhoneNumber, Address, Description,
  CreatedDate, CreatedBy, ModifiedDate, ModifiedBy)
    VALUES (p_AppointmentID, p_UserID, p_AppointmentName, p_AppointmentDate, p_AppointmentStatus, p_PatientName, p_PatientID, p_DoctorName, p_DoctorPhoneNumber, p_Address, p_Description, CURRENT_TIMESTAMP(), p_CreatedBy, CURRENT_TIMESTAMP(), p_ModifiedBy);


END
$$

--
-- Create procedure `Proc_records_getPaging`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_records_getPaging (IN v_Offset int, IN v_Limit int, IN v_Sort varchar(100), IN v_Where varchar(1000))
BEGIN

  -- =============================================
  -- Author:        htthoa
  -- Created date: 10/3/2023
  -- Description:   Lấy danh sách tài sản và tổng số tài sản có phân trang
  -- Modified by:   

  -- =============================================


  -- kiểm tra xem v_Where = "" thì gán v_Where ="1=1" còn ngược lại thì giữ nguyên giá trị
  IF v_Where = "" THEN
    SET v_Where = "1=1";
  END IF;

  -- select v_Where;

  IF v_Sort = "" THEN
    SET v_Sort = "ModifiedDate DESC";
  END IF;


  IF v_Limit = -1 THEN
    SET @filterQuery = CONCAT("SELECT * FROM records WHERE ", v_Where, ' ORDER BY ', v_Sort);
  ELSE
    SET @filterQuery = CONCAT("SELECT * FROM records WHERE ", v_Where, ' ORDER BY ', v_Sort, ' LIMIT ', v_Offset, ',', v_Limit);
  END IF;


  PREPARE filterQuery FROM @filterQuery;
  EXECUTE filterQuery;
  DEALLOCATE PREPARE filterQuery;



  SET @filterQuery = CONCAT("SELECT count(RecordID) AS TotalCount FROM records WHERE ", v_Where);


  PREPARE filterQuery FROM @filterQuery;
  EXECUTE filterQuery;
  DEALLOCATE PREPARE filterQuery;






END
$$

--
-- Create procedure `Proc_prescriptions_getPaging`
--
CREATE DEFINER = 'root'@'localhost'
PROCEDURE Proc_prescriptions_getPaging (IN v_Offset int, IN v_Limit int, IN v_Sort varchar(100), IN v_Where varchar(1000))
BEGIN

  -- =============================================
  -- Author:        htthoa
  -- Created date: 10/3/2023
  -- Description:   Lấy danh sách tài sản và tổng số tài sản có phân trang
  -- Modified by:   

  -- =============================================


  -- kiểm tra xem v_Where = "" thì gán v_Where ="1=1" còn ngược lại thì giữ nguyên giá trị
  IF v_Where = "" THEN
    SET v_Where = "1=1";
  END IF;

  -- select v_Where;

  IF v_Sort = "" THEN
    SET v_Sort = "ModifiedDate DESC";
  END IF;


  IF v_Limit = -1 THEN
    SET @filterQuery = CONCAT("SELECT * FROM prescriptions WHERE ", v_Where, ' ORDER BY ', v_Sort);
  ELSE
    SET @filterQuery = CONCAT("SELECT * FROM prescriptions WHERE ", v_Where, ' ORDER BY ', v_Sort, ' LIMIT ', v_Offset, ',', v_Limit);
  END IF;


  PREPARE filterQuery FROM @filterQuery;
  EXECUTE filterQuery;
  DEALLOCATE PREPARE filterQuery;



  SET @filterQuery = CONCAT("SELECT count(PrescriptionID) AS TotalCount FROM prescriptions WHERE ", v_Where);


  PREPARE filterQuery FROM @filterQuery;
  EXECUTE filterQuery;
  DEALLOCATE PREPARE filterQuery;






END
$$

DELIMITER ;

-- 
-- Dumping data for table users
--
INSERT INTO users VALUES
('0455d3b6-79e5-42ee-b173-c2e34a39269c', NULL, 'hoangthoa1', '123', '2023-12-27 22:04:42', NULL, '2023-12-27 22:04:42', NULL),
('15225f37-e481-4912-bb76-3d792c4498d7', NULL, 'hoangthoa6', '1234', '2023-12-29 21:27:17', NULL, '2023-12-29 21:27:17', NULL),
('443f7b5d-99c2-11ee-bfeb-1866da3df2b8', '05521565', 'hoangthoa', '11111', '2023-12-13 21:16:54', '', '2023-12-13 21:16:54', '');

-- 
-- Dumping data for table prescriptions
--
INSERT INTO prescriptions VALUES
('13c79ee8-0fb4-45c3-9d0f-37a253801740', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Đơn thuốc trị ho', 'không', 2, '2023-12-17 00:00:00', 'Nguyễn Ngọc Anh ', '48f0034c-9bb9-11ee-bfeb-1866da3df2b8', 'Nguyễn Hữu Nam', 'viem phe quan', 'BV Quân Y 103', '2023-12-18 00:00:00', '2024-01-03 00:00:00', '2023-12-17 23:06:28', NULL, '2023-12-17 23:11:10', NULL),
('66b2304a-ff9c-449d-9670-32e155941b08', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Trị đau đầu Trị đau đầu Trị đau đầu', 'không', 1, '2023-12-20 00:00:00', NULL, NULL, 'NNT', 'đau đầu', 'BV K', '2023-12-20 00:00:00', '2023-12-30 00:00:00', '2023-12-29 22:33:16', NULL, '2023-12-29 22:42:08', NULL),
('7595503e-575d-41c8-9489-464d30db089f', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Trị cảm cúm', NULL, 2, '2023-12-12 00:00:00', NULL, NULL, 'Nguyễn Văn An', NULL, 'BV Thu Cúc', '2023-12-04 00:00:00', '2023-11-26 00:00:00', '2023-12-27 21:02:07', NULL, '2023-12-27 21:03:03', NULL),
('82c8e7a2-3239-436a-9b00-36520a873036', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Trị đau đầu', NULL, 1, '2023-12-20 00:00:00', 'Hoàng Nhật Long', '90704aa6-8127-480e-a59c-4e31c3234ba8', 'Nguyễn Hữu Thọ', NULL, 'BV Hoa Hồng', '2023-12-12 00:00:00', '2024-01-06 00:00:00', '2023-12-27 21:05:02', NULL, '2023-12-27 21:05:02', NULL),
('901dc58d-29ba-400a-aada-51875e299f5f', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Thuốc trị cảm1', 'Không có', 1, '2023-12-20 00:00:00', NULL, NULL, 'Nguyễn Hữu', 'cảm cúm6', 'BV Đa Khoa', '2023-12-26 00:00:00', '2024-01-05 00:00:00', '2023-12-29 22:26:57', NULL, '2023-12-29 22:32:01', NULL),
('d73667ba-62a6-4baf-911e-1d3cf9afa981', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Trị Cảm', NULL, 1, '2023-12-13 00:00:00', 'Nguyễn Thị Hoa', 'e66d7fc6-4c70-41d1-8c54-e125ee5035ae', 'Nguyễn ngọc Anh', 'Cảm cúm', 'BV Thu Cúc', '2023-12-26 00:00:00', '2023-12-30 00:00:00', '2023-12-28 22:05:28', NULL, '2023-12-28 22:06:10', NULL),
('df9c9d10-1d34-45e1-b2f3-04be6e1a41bd', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Đơn 1', '', 1, '2023-12-14 15:07:55', NULL, NULL, 'Nguyễn Bảo Anh', '', 'Hà Nội', '2023-12-14 15:07:55', '2023-12-14 15:07:55', '2023-12-14 15:07:55', 'string', '2023-12-17 22:54:46', 'string'),
('f7b83dd0-3b43-4858-9c93-529a3f6d7f11', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Thuốc trị cảm', 'Không có', 2, '2023-12-20 00:00:00', NULL, NULL, 'Nguyễn Hữu', 'cảm cúm1', 'BV Đa Khoa', '2023-12-26 00:00:00', '2024-01-05 00:00:00', '2023-12-29 22:26:57', NULL, '2023-12-29 22:28:59', NULL);

-- 
-- Dumping data for table records
--
INSERT INTO records VALUES
('093f8f0d-fa92-4d60-a38b-c800bf960aaa', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', '2023-12-28 00:00:00', 'Hồ sơ khám bệnh tháng 12/2023', 'BV Đa Khoa Nam Định', 'Vụ Văn Khương', 'Hoàng Văn Ngọc', '1999-12-21 00:00:00', 0, 'Nam Định', NULL, NULL, '0343786348', '038383333', '2023-12-29 22:18:23', NULL, '2023-12-29 22:18:23', NULL, '[{"name":"Beautiful-Full-HD-Photos.jpg","url":"https://firebasestorage.googleapis.com/v0/b/meditrackcr.appspot.com/o/Beautiful-Full-HD-Photos.jpg?alt=media&token=866b8afe-82a0-4c66-83c9-b44f215eec3c"}]'),
('e787554a-ea98-484f-8bbc-33b6752dfef2', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', '2023-12-19 00:00:00', 'hồ sơ test 1', 'BV y học cổ truyền', 'Nguyễn Văn Bình', 'Nguyễn Ngọc An', '2003-12-20 00:00:00', 1, 'Nam Định', 'Nguyễn Ngọc Anh ', '48f0034c-9bb9-11ee-bfeb-1866da3df2b8', '0555116', '05555555', '2023-12-19 22:57:08', NULL, '2023-12-19 22:57:08', NULL, NULL),
('f7129a27-f6e0-4a31-bc5b-73697ada35e5', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', '2023-12-05 00:00:00', 'hs1', '4545454', '545454', '1', '2023-11-28 00:00:00', 0, '545454', NULL, NULL, '4354454545', '54545', '2023-12-27 20:56:37', NULL, '2023-12-27 21:00:01', NULL, '[{"name":"Beautiful-Full-HD-Photos.jpg","url":"https://firebasestorage.googleapis.com/v0/b/meditrackcr.appspot.com/o/Beautiful-Full-HD-Photos.jpg?alt=media&token=622901a9-5443-4e21-8348-7e7b958db08a"},{"name":"th.jpg","url":"https://firebasestorage.googleapis.com/v0/b/meditrackcr.appspot.com/o/th.jpg?alt=media&token=50c22328-2b04-4a45-bf66-2c4b09984562"}]');

-- 
-- Dumping data for table user_details
--
INSERT INTO user_details VALUES
('3e2a5d7c-455d-4c20-9677-93d12fd47322', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Hoàng Thị Thoả', '2001-04-05 00:00:00', 2, '', '2023-12-29 21:27:37', NULL, '2023-12-29 22:01:43', NULL, NULL),
('3e2a5d7c-455d-4c20-9677-93d12fd473a5', '15225f37-e481-4912-bb76-3d792c4498d7', 'Hoàng Thoả', '2001-04-05 00:00:00', 2, '', '2023-12-29 21:27:37', NULL, '2023-12-29 22:01:43', NULL, NULL);

-- 
-- Dumping data for table treatments
--
INSERT INTO treatments VALUES
('6d8cc204-757a-44d9-95d6-c7b06ba646cf', '093f8f0d-fa92-4d60-a38b-c800bf960aaa', NULL, NULL, 'sức khoẻ bình thường không có mô tả', 'không có', NULL, NULL, '2023-12-29 22:18:23', NULL, '2023-12-29 22:18:23', NULL),
('aa87209f-91dd-4a54-9e13-ef9d46275896', 'f7129a27-f6e0-4a31-bc5b-73697ada35e5', '343434', '2023-12-06 00:00:00', '3434', '3434', '4334', '343434', '2023-12-27 21:00:01', NULL, '2023-12-27 21:00:01', NULL),
('e495f3d9-854c-4fa3-ad3b-a9c16b0db96b', 'e787554a-ea98-484f-8bbc-33b6752dfef2', 'Tiểu Đường', '2023-12-20 00:00:00', 'Hạn chế ăn đường ', 'không', NULL, NULL, '2023-12-19 22:57:08', NULL, '2023-12-19 22:57:08', NULL);

-- 
-- Dumping data for table notifications
--
INSERT INTO notifications VALUES
('4da5ac1a-ee77-4bf7-9855-6afb2de6fc0e', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Trị Cảm', '2023-12-26 00:00:00', 2, 'Đơn thuốc ', 'Nguyễn Thị Hoa', '2023-12-28 22:06:10', NULL, '2023-12-29 22:45:36', NULL, 'd73667ba-62a6-4baf-911e-1d3cf9afa981', '2023-12-30 00:00:00'),
('5e407835-f23a-460a-8bf2-38be3bf636d6', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Thuốc trị cảm1', '2023-12-26 00:00:00', 2, 'Đơn thuốc ', 'Bạn', '2023-12-29 22:32:01', NULL, '2023-12-29 22:45:47', NULL, '901dc58d-29ba-400a-aada-51875e299f5f', '2024-01-05 00:00:00'),
('6424e1b2-edde-40b2-9dfc-a2e80962f41b', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Khám sức khoẻ định kì', '2023-12-28 00:00:00', 2, 'Cuộc hẹn ', 'Hoàng Văn Tài', '2023-12-28 23:22:02', NULL, '2023-12-28 23:27:08', NULL, '652ffc5d-7357-4369-9b81-3abc4eaed3b5', '2023-12-28 00:00:00'),
('6c24227c-915a-41ea-96c0-b6d102e060de', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'string', '2023-12-27 16:56:09', 0, 'string', 'string', '2023-12-27 23:59:18', 'string', '2023-12-27 23:59:18', 'string', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', NULL),
('96244748-d8df-4b76-8d12-4c48e102bf77', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Tư vấn điều trị', '2023-12-29 00:00:00', 1, 'Cuộc hẹn ', 'Bạn', '2023-12-28 00:15:45', NULL, '2023-12-28 00:15:45', NULL, '06f19374-bd14-478e-aa17-609e73623908', NULL),
('ac6696d0-a5b1-4845-9e8e-8bb9392cb133', '0455d3b6-79e5-42ee-b173-c2e34a39269c', '5', '2023-12-30 00:00:00', 1, 'Cuộc hẹn', 'Bạn', '2023-12-28 00:00:02', NULL, '2023-12-28 00:00:02', NULL, '74443e6a-60ee-4a54-96de-610e30005cd3', NULL),
('d1b9cc10-8215-444f-8a65-4dd132176a02', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Trị đau đầu Trị đau đầu Trị đau đầu', '2023-12-20 00:00:00', 2, 'Đơn thuốc ', 'Bạn', '2023-12-29 22:42:08', NULL, '2023-12-29 22:45:38', NULL, '66b2304a-ff9c-449d-9670-32e155941b08', '2023-12-30 00:00:00'),
('eea8c8c7-eb56-47a1-bd52-02a090fa44f2', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Thuốc trị cảm', '2023-12-26 00:00:00', 2, 'Đơn thuốc ', 'Bạn', '2023-12-29 22:28:59', NULL, '2023-12-29 22:45:45', NULL, 'f7b83dd0-3b43-4858-9c93-529a3f6d7f11', '2024-01-05 00:00:00'),
('f553eddc-1e1c-4635-b6e7-20672028ed56', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', '3', '2023-12-28 00:00:00', 2, 'Cuộc hẹn  ', 'Bạn', '2023-12-28 00:04:54', NULL, '2023-12-28 21:26:57', NULL, '4207f0df-95c5-4ab9-92af-b4a5c3ee6831', NULL);

-- 
-- Dumping data for table medications
--
INSERT INTO medications VALUES
('0ae23c1c-d3d1-451c-8a27-6d910108d7a5', '13c79ee8-0fb4-45c3-9d0f-37a253801740', 'Thuốc 2', 1, 0, 'tuýp', '', 'trước ăn 10px', '', '2023-12-17 23:11:10', '', NULL, NULL, '2023-12-17 23:11:10', NULL),
('0de0bef7-78bf-4fc4-b53d-c4d78b2673f5', 'd73667ba-62a6-4baf-911e-1d3cf9afa981', 'Flunarixzin 5mg', 1, 1, 'viên', '', 'uống sau ăn', '', '2023-12-28 22:06:10', '', NULL, NULL, '2023-12-28 22:06:10', NULL),
('3393cd8a-c12a-4548-90da-c27eb7844dc1', 'f7b83dd0-3b43-4858-9c93-529a3f6d7f11', 'glurizin 5mg', 1, 0, 'viên', '', 'sau ăn 30p', 'không', '2023-12-29 22:28:59', '', NULL, NULL, '2023-12-29 22:28:59', NULL),
('52ab7bde-4cf4-4be5-9c4b-018a71fa9bb4', NULL, 'Thuốc 1', 1, 1, 'viên', '', 'Uống sau khi ăn 30p', 'không sử dụng nhiều hơn chỉ định', '2023-12-17 22:54:22', '', NULL, NULL, '2023-12-17 22:54:22', NULL),
('5da4e36e-0715-49dd-8b9f-75ebd8ad87f7', '901dc58d-29ba-400a-aada-51875e299f5f', 'glurizin 5mg', 1, 0, 'viên', '', 'sau ăn 30p', 'không', '2023-12-29 22:32:01', '', NULL, NULL, '2023-12-29 22:32:01', NULL),
('5f49c049-ac3f-4f15-b607-d8ad97de292c', '901dc58d-29ba-400a-aada-51875e299f5f', 'panadol', 1, 1, 'viên', '', 'sau ăn', 'không', '2023-12-29 22:32:01', '', NULL, NULL, '2023-12-29 22:32:01', NULL),
('9bc7bb4a-888b-4f14-ad93-8670498aa8d4', 'f7b83dd0-3b43-4858-9c93-529a3f6d7f11', 'panadol', 1, 1, 'viên', '', 'sau ăn', 'không', '2023-12-29 22:28:59', '', NULL, NULL, '2023-12-29 22:28:59', NULL),
('b95edf7d-aefc-46d1-af76-3d3a530370b8', '82c8e7a2-3239-436a-9b00-36520a873036', 'panadol', 1, 2, 'viên', '', 'sau ăn 30p', '', '2023-12-27 21:05:02', '', NULL, NULL, '2023-12-27 21:05:02', NULL),
('beeb793d-cbfc-4095-8ccd-72978167c9ef', '13c79ee8-0fb4-45c3-9d0f-37a253801740', 'Thuốc 1', 1, 1, 'viên', '', 'sau ăn 30p', '', '2023-12-17 23:11:10', '', NULL, NULL, '2023-12-17 23:11:10', NULL),
('d39f4341-4308-4bb4-9923-f1ea0d72f6ee', '66b2304a-ff9c-449d-9670-32e155941b08', 'panadol', 1, 1, 'viên', '', 'uống sau  ăn', 'không', '2023-12-29 22:42:08', '', NULL, NULL, '2023-12-29 22:42:08', NULL);

-- 
-- Dumping data for table medicaltests
--
INSERT INTO medicaltests VALUES
('2ab18a91-1310-4347-a4c4-eeeca1f17b22', 'f7129a27-f6e0-4a31-bc5b-73697ada35e5', '5454', '5454', '5454', NULL, NULL, NULL, '5454', '454554', '5454', '2023-12-27 21:00:01', NULL, '2023-12-27 21:00:01', NULL, NULL),
('38c574e0-4353-49c9-81e3-258ebc93ed11', '093f8f0d-fa92-4d60-a38b-c800bf960aaa', 'glucozo', 'mol/mg', '3-5,6', '2023-12-28 00:00:00', NULL, NULL, 'Máu', 'Vũ Văn Khương', '5,25', '2023-12-29 22:18:23', NULL, '2023-12-29 22:18:23', NULL, NULL),
('62461de1-6fb3-4959-9b97-9fc210b83d8e', '093f8f0d-fa92-4d60-a38b-c800bf960aaa', 'xnxy', 'mol/mg', '2 - 4', '2023-12-28 00:00:00', NULL, NULL, 'Máu', 'Vũ Văn Khương', '3', '2023-12-29 22:18:23', NULL, '2023-12-29 22:18:23', NULL, NULL),
('ae3b2651-0f7a-4b05-9c27-dc544be2e221', 'e787554a-ea98-484f-8bbc-33b6752dfef2', 'glucozo', 'mol/ml', '3-5.6', '2023-12-14 00:00:00', NULL, NULL, 'máu', 'Nguyễn Văn Bình', '5.25', '2023-12-19 22:57:08', NULL, '2023-12-19 22:57:08', NULL, NULL);

-- 
-- Dumping data for table family_members
--
INSERT INTO family_members VALUES
('48f0034c-9bb9-11ee-bfeb-1866da3df2b8', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Nguyễn Ngọc Anh ', '1977-10-10 00:00:00', 'Mẹ', '02154555', '', '2023-12-16 09:17:39', '', '2023-12-16 09:17:39', ''),
('90704aa6-8127-480e-a59c-4e31c3234ba8', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Hoàng Nhật Long', '2008-12-20 00:00:00', 'Em', '048734834', '434344', '2023-12-21 21:05:54', NULL, '2023-12-21 21:06:02', NULL),
('e66d7fc6-4c70-41d1-8c54-e125ee5035ae', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Nguyễn Thị Hoa', '2000-12-05 00:00:00', 'Chị', '04384378', '', '2023-12-27 21:06:24', NULL, '2023-12-27 21:06:24', NULL),
('f48ed423-03f9-4a5f-948c-3525fc639070', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Hoàng Văn Tài', '1977-12-12 00:00:00', 'Bố', '083473847', 'fb: HoangTai', '2023-12-19 23:51:08', NULL, '2023-12-19 23:51:08', NULL);

-- 
-- Dumping data for table appointments
--
INSERT INTO appointments VALUES
('06f19374-bd14-478e-aa17-609e73623908', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Tư vấn điều trị', '2023-12-29 00:00:00', 1, '', NULL, 'Nguyễn Hải Hà', '0438738', 'Phòng Khám Thu Cúc1', '', '2023-12-26 22:02:49', NULL, '2023-12-28 00:15:44', NULL),
('155f05d6-6091-4037-a158-54a8ba54b044', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Khám định kỳ', '2023-12-13 14:19:25', 1, 'Nguyễn Ngọc Anh ', '48f0034c-9bb9-11ee-bfeb-1866da3df2b8', 'Nguyễn Văn Bình', '0253163164', '', '33', '2023-12-13 00:00:00', 'string', '2023-12-13 00:00:00', 'string'),
('172fad30-e75f-43fc-8d3d-0442209ff4e2', '0455d3b6-79e5-42ee-b173-c2e34a39269c', '5', '2024-01-06 00:00:00', 1, '', NULL, '5', '5', '5', '5', '2023-12-27 23:37:59', NULL, '2023-12-27 23:37:59', NULL),
('182f05d6-6091-4037-a158-54a8ba54b044', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Khám cổ', '2023-12-13 14:19:25', 3, '', '00000000-0000-0000-0000-000000000000', 'Nguyễn Văn Bảo', '0253163164', 'Bệnh viên 103', '77', '2023-12-13 00:00:00', 'string', '2023-12-17 16:40:20', 'string'),
('1870b20f-6e25-41be-a4f3-8481724b5ac3', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Khám sức khoẻ định kì', '2023-12-28 00:00:00', 1, 'Hoàng Văn Tài', 'f48ed423-03f9-4a5f-948c-3525fc639070', 'Vũ Văn Hưng', '04837834', 'BV Quân Y 103', '', '2023-12-28 23:03:12', NULL, '2023-12-28 23:03:12', NULL),
('1d9cca26-1744-4332-b826-5a138aeeb956', '0455d3b6-79e5-42ee-b173-c2e34a39269c', '4', '2024-01-05 00:00:00', 1, '', NULL, '4', '4', '4', '4', '2023-12-27 23:53:46', NULL, '2023-12-27 23:53:46', NULL),
('381cb9ed-3c9b-497a-b4ad-804987444aaa', NULL, 'Khám sức khoẻ cuối năm', '2024-01-06 00:00:00', 1, '', NULL, 'Nguyễn Văn Ngọc', '025555', 'BV Y học cổ truyển', 'Mang theo kết quả khám kỳ trước', '2023-12-17 17:19:42', NULL, '2023-12-17 17:19:42', NULL),
('652ffc5d-7357-4369-9b81-3abc4eaed3b5', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Khám sức khoẻ định kì', '2023-12-28 00:00:00', 1, 'Hoàng Văn Tài', 'f48ed423-03f9-4a5f-948c-3525fc639070', 'Vũ Ngọc An', '04387348', 'BV Quân Y 103', '', '2023-12-28 23:22:02', NULL, '2023-12-28 23:22:02', NULL),
('67e92a57-77a0-41cb-a056-bd16f4d2cd90', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Cuộc hẹn Gặp bác sĩ của con', '2023-12-12 00:00:00', 1, '', NULL, 'Nguyễn Thị Hải', '545454', 'Bệnh Viện nhi', '222', '2023-12-16 12:07:03', NULL, '2023-12-17 17:08:04', NULL),
('74443e6a-60ee-4a54-96de-610e30005cd3', '0455d3b6-79e5-42ee-b173-c2e34a39269c', '5', '2023-12-30 00:00:00', 1, '', NULL, '5', '5', '5', '5', '2023-12-28 00:00:00', NULL, '2023-12-28 00:00:00', NULL),
('c79890ae-9a53-444b-8a91-64a99cfff8dd', NULL, '111', '2023-12-12 00:00:00', NULL, 'Nguyễn Ngọc Anh ', '48f0034c-9bb9-11ee-bfeb-1866da3df2b8', '222', '333', '1111', '222', '2023-12-17 16:54:25', NULL, '2023-12-17 16:54:25', NULL),
('db1c7263-930f-471b-938e-35a86791090a', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Khám sức khoẻ định kì', '2023-12-28 00:00:00', 1, 'Hoàng Văn Tài', 'f48ed423-03f9-4a5f-948c-3525fc639070', 'Vũ Văn Hưng', '04837834', 'BV Quân Y 103', '', '2023-12-28 23:02:51', NULL, '2023-12-28 23:02:51', NULL),
('dff68e3d-974a-4a6f-b63c-c63bf0839801', '0455d3b6-79e5-42ee-b173-c2e34a39269c', '1', '2023-12-23 00:00:00', 1, '', NULL, '1', '1', '1', '1', '2023-12-27 23:41:50', NULL, '2023-12-27 23:41:50', NULL),
('f2055432-3e0a-4555-a14a-eafd8aa23e2d', '0455d3b6-79e5-42ee-b173-c2e34a39269c', '4', '2023-12-30 00:00:00', 1, '', NULL, '4', '4', '4', '4', '2023-12-27 23:32:47', NULL, '2023-12-27 23:32:47', NULL),
('f5be1a39-4ee0-4963-8848-7ed13ae5b5d2', '443f7b5d-99c2-11ee-bfeb-1866da3df2b8', 'Hẹn Khám mắt', '2023-12-30 00:00:00', 1, 'Hoàng Nhật Long', '90704aa6-8127-480e-a59c-4e31c3234ba8', 'Nguyễn Bảo Nam', '0438347384', 'Phòng Khám Thái Thịnh', '', '2023-12-27 21:21:57', NULL, '2023-12-27 21:21:57', NULL);

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;